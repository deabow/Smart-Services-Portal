{% extends 'base.html' %}

{% block title %}تقديم طلب جديد - خدمة المواطنين{% endblock %}

{% block page_indicator %}
<div class="page-indicator">
	<i class="fas fa-plus"></i> تقديم طلب جديد - الموقع الرسمي للنائب احمد ابوزيد
</div>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
	<div class="col-md-8 col-lg-6">
		<div class="card border-0 shadow-sm">
			<div class="card-body p-5">
				<div class="text-center mb-4">
					<div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" 
						 style="width: 80px; height: 80px;">
						<i class="fas fa-file-alt text-primary" style="font-size: 2rem; color: #1e40af !important;"></i>
					</div>
					<h3 class="card-title" style="color: #1e40af;">تقديم طلب جديد</h3>
					<p class="text-muted">أدخل تفاصيل طلبك للحصول على الخدمة المطلوبة</p>
				</div>

				<form method="post" enctype="multipart/form-data">
					{% csrf_token %}
					
					<div class="mb-3">
						<label for="id_title" class="form-label fw-bold" style="color: #1e40af;">عنوان الطلب *</label>
						<div class="input-group">
							<span class="input-group-text bg-light border-end-0">
								<i class="fas fa-heading text-muted"></i>
							</span>
							<input type="text" class="form-control border-start-0" id="id_title" name="title" 
								   placeholder="أدخل عنوان الطلب" value="{{ form_data.title|default:'' }}" required>
						</div>
					</div>

					<div class="mb-3">
						<label for="id_description" class="form-label fw-bold" style="color: #1e40af;">تفاصيل الطلب *</label>
						<div class="input-group">
							<span class="input-group-text bg-light border-end-0">
								<i class="fas fa-align-left text-muted"></i>
							</span>
							<textarea class="form-control border-start-0" id="id_description" name="description" 
									  rows="5" placeholder="أدخل تفاصيل الطلب" required>{{ form_data.description|default:'' }}</textarea>
						</div>
						<div class="form-text">اكتب تفاصيل كاملة عن طلبك</div>
					</div>

					<div class="mb-4">
						<label for="id_attachments" class="form-label fw-bold" style="color: #1e40af;">المرفقات</label>
						<div class="input-group">
							<span class="input-group-text bg-light border-end-0">
								<i class="fas fa-paperclip text-muted"></i>
							</span>
							<input type="file" class="form-control border-start-0" id="id_attachments" name="attachments" 
								   multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png">
						</div>
						<div class="form-text">يمكنك إرفاق ملفات PDF، Word، أو صور (اختياري)</div>
					</div>

					{% if errors %}
					<div class="alert alert-danger" role="alert">
						<i class="fas fa-exclamation-triangle me-2"></i>
						يرجى تصحيح الأخطاء التالية:
						<ul class="mb-0 mt-2">
							{% for error in errors %}
								<li>{{ error }}</li>
							{% endfor %}
						</ul>
					</div>
					{% endif %}

					<div class="d-grid">
						<button type="submit" class="btn btn-primary btn-lg">
							<i class="fas fa-paper-plane me-2"></i>
							إرسال الطلب
						</button>
					</div>
				</form>

				<hr class="my-4">

				<div class="d-flex gap-3 justify-content-center">
					<a href="{% url 'requests:list' %}" class="btn btn-outline-primary" style="border-color: #1e40af; color: #1e40af;">
						<i class="fas fa-list me-2"></i>
						قائمة الطلبات
					</a>
					<a href="{% url 'home' %}" class="btn btn-outline-primary" style="border-color: #1e40af; color: #1e40af;">
						<i class="fas fa-home me-2"></i>
						العودة للرئيسية
					</a>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}

